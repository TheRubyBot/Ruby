var o=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var v=e=>o(e,"__esModule",{value:!0});var w=(e,i)=>{for(var r in i)o(e,r,{get:i[r],enumerable:!0})},S=(e,i,r,t)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of b(i))!d.call(e,n)&&(r||n!=="default")&&o(e,n,{get:()=>i[n],enumerable:!(t=g(i,n))||t.enumerable});return e};var D=(e=>(i,r)=>e&&e.get(i)||(r=S(v({}),i,1),e&&e.set(i,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var C={};w(C,{Bot:()=>x});var a=require("@prisma/client"),l=require("discord.js"),p=require("fs"),h=require("path");class x{constructor(i){this.client=new l.Client({intents:["GUILDS","GUILD_MESSAGES","GUILD_MEMBERS"]});this.prisma=new a.PrismaClient;this.commandsDir="commands";this.owners=[];this.testServers=[];this.prefixes=[];this.client.on("ready",()=>{var s,c,m;console.log(`Logged in as ${(s=this.client.user)==null?void 0:s.tag}`),this.prefixes.push(`<@${(c=this.client.user)==null?void 0:c.id}>`),this.prefixes.push(`<@!${(m=this.client.user)==null?void 0:m.id}>`)});const r=JSON.parse((0,p.readFileSync)("./package.json","utf8"));this.version={number:r.version,revision:r.revision,codename:r.codename};const{commandsDir:t,owners:n,prefixes:f,testServers:u}=i;this.commandsDir=t,this.prefixes=f;for(const s of n)this.client.users.fetch(s).catch(()=>{throw new Error(`Owner: ${s} cannot be seen by bot`)});for(const s of u)this.client.guilds.fetch(s).catch(()=>{throw new Error(`Test server: ${s} cannot be seen by bot`)});if(require.main){const{path:s}=require.main;s&&(this.commandsDir=(0,h.join)(s,this.commandsDir))}}login(i){this.client.login(i)}}module.exports=D(C);0&&(module.exports={Bot});
//# sourceMappingURL=bot.js.map
