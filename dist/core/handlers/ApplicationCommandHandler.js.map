{
  "version": 3,
  "sources": ["../../../src/core/handlers/ApplicationCommandHandler.ts"],
  "sourcesContent": ["import { REST } from \"@discordjs/rest\";\nimport { ApplicationCommand } from \"../../core/constructors/ApplicationCommandConstructor\";\nimport { Routes } from \"discord-api-types/v10\";\nimport { Bot } from \"core/bot\";\n\nexport class ApplciationCommandHandler {\n  readonly $commands: Map<string, ApplicationCommand>;\n\n  constructor(commandFiles: ApplicationCommand[], i: Bot) {\n    this.$commands = new Map(commandFiles.map((x) => [x.name, x]));\n\n    const configs = commandFiles.map(({ name, type, description, options }) => ({ name, type, description, options }));\n\n    const rest = new REST({ version: \"10\" }).setToken(i.client.token!);\n\n    (async () => {\n      console.log(i.testServers);\n      if (i.globalSlashTesting)\n        for (const server of i.testServers)\n          await rest.put(Routes.applicationGuildCommands(i.client.user!.id, server), { body: configs });\n      else await rest.put(Routes.applicationCommands(i.client.user!.id), { body: configs });\n    })();\n\n    i.client.on(\"interactionCreate\", (int) => {\n      if (!int.isCommand()) return;\n\n      const command = this.$commands.get(int.commandName);\n      if (!command) {\n        int.reply(\"This command was not found!\");\n        return;\n      }\n\n      try {\n        command.callback({ client: i.client, instance: i, interaction: int });\n      } catch (e) {\n        int.reply(\"An Error Ocurred\");\n        console.log(e);\n      }\n    });\n  }\n\n  public get commands(): Map<string, ApplicationCommand> {\n    return this.commands;\n  }\n\n  public getCommand(name: string): ApplicationCommand | undefined {\n    return this.commands.get(name);\n  }\n}\n"],
  "mappings": "2tBAAA,sDAAqB,2BAErB,EAAuB,iCAGhB,OAAgC,CAGrC,YAAY,EAAoC,EAAQ,CACtD,KAAK,UAAY,GAAI,KAAI,EAAa,IAAI,AAAC,GAAM,CAAC,EAAE,KAAM,KAE1D,KAAM,GAAU,EAAa,IAAI,CAAC,CAAE,OAAM,OAAM,cAAa,aAAe,EAAE,OAAM,OAAM,cAAa,aAEjG,EAAO,GAAI,QAAK,CAAE,QAAS,OAAQ,SAAS,EAAE,OAAO,OAE3D,AAAa,wBAEX,GADA,QAAQ,IAAI,EAAE,aACV,EAAE,mBACJ,SAAW,KAAU,GAAE,YACrB,KAAM,GAAK,IAAI,SAAO,yBAAyB,EAAE,OAAO,KAAM,GAAI,GAAS,CAAE,KAAM,QAClF,MAAM,GAAK,IAAI,SAAO,oBAAoB,EAAE,OAAO,KAAM,IAAK,CAAE,KAAM,MAG7E,EAAE,OAAO,GAAG,oBAAqB,AAAC,GAAQ,CACxC,GAAI,CAAC,EAAI,YAAa,OAEtB,KAAM,GAAU,KAAK,UAAU,IAAI,EAAI,aACvC,GAAI,CAAC,EAAS,CACZ,EAAI,MAAM,+BACV,OAGF,GAAI,CACF,EAAQ,SAAS,CAAE,OAAQ,EAAE,OAAQ,SAAU,EAAG,YAAa,UACxD,EAAP,CACA,EAAI,MAAM,oBACV,QAAQ,IAAI,SAKP,WAA4C,CACrD,MAAO,MAAK,SAGP,WAAW,EAA8C,CAC9D,MAAO,MAAK,SAAS,IAAI",
  "names": []
}
