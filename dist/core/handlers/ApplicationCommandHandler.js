var p=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var h=t=>p(t,"__esModule",{value:!0});var y=(t,n)=>{for(var o in n)p(t,o,{get:n[o],enumerable:!0})},A=(t,n,o,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let e of g(n))!C.call(t,e)&&(o||e!=="default")&&p(t,e,{get:()=>n[e],enumerable:!(r=f(n,e))||r.enumerable});return t};var b=(t=>(n,o)=>t&&t.get(n)||(o=A(h({}),n,1),t&&t.set(n,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var d=(t,n,o)=>new Promise((r,e)=>{var a=m=>{try{c(o.next(m))}catch(i){e(i)}},s=m=>{try{c(o.throw(m))}catch(i){e(i)}},c=m=>m.done?r(m.value):Promise.resolve(m.value).then(a,s);c((o=o.apply(t,n)).next())});var v={};y(v,{ApplciationCommandHandler:()=>w});var u=require("@discordjs/rest"),l=require("discord-api-types/v10");class w{constructor(n,o){this.$commands=new Map(n.map(a=>[a.name,a]));const r=n.map(({name:a,type:s,description:c,options:m})=>({name:a,type:s,description:c,options:m})),e=new u.REST({version:"10"}).setToken(o.client.token);d(this,null,function*(){if(console.log(o.testServers),o.globalSlashTesting)for(const a of o.testServers)yield e.put(l.Routes.applicationGuildCommands(o.client.user.id,a),{body:r});else yield e.put(l.Routes.applicationCommands(o.client.user.id),{body:r})}),o.client.on("interactionCreate",a=>{if(!a.isCommand())return;const s=this.$commands.get(a.commandName);if(!s){a.reply("This command was not found!");return}try{s.callback({client:o.client,instance:o,interaction:a})}catch(c){a.reply("An Error Ocurred"),console.log(c)}})}get commands(){return this.commands}getCommand(n){return this.commands.get(n)}}module.exports=b(v);0&&(module.exports={ApplciationCommandHandler});
//# sourceMappingURL=ApplicationCommandHandler.js.map
